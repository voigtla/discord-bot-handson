# Discord Bot 開発ハンズオン（全20回）

メンタル系 Discord サーバー向けチャットボットを、
**「作って終わり」ではなく「壊さず・直し・判断し・引き継ぐ」**ところまで体験する、
**実践特化・全20回のハンズオン教材**です。

この README は、**この講座が何を目指し、どこまで連れていくのか**を一望できる"地図"です。
各回の詳細は、リンク先の Markdown を **上から順に実行しながら**進めてください。

---

## 🎯 この講座で身につけるもの（最重要）

この講座で身につくのは、

* 流行りの技術
* きれいな設計
* AIの使い方

ではありません。

**「本番で判断できる力」**です。

* 触っていいか／止めるべきか
* 直すべきか／戻すべきか
* 続けるか／凍結するか／捨てるか

を、**理由付きで選べる状態**になることをゴールにしています。

---

## 💻 OSについて

* **Windows（PowerShell）を正規ルート**として記載しています
* macOS / Linux の場合は **PowerShell → ターミナル** と読み替えてください

---

## 🚦 推奨参加ルート（ここだけ読めば始められる）

この講座は**全員が第1回からやる前提ではありません**。今の立ち位置に近いところから入ってください。

### 🐣 プログラミング未経験・久しぶり

* **第1回から参加**
* 環境構築 → Git → Bot起動を一通り体験
* ゴール：*「黒い画面が怖くなくなる」*

### 🧑‍💻 Gitは触ったことがある／業務で少し書いたことがある

* **第2回 or 第3回から参加**
* Gitの流れを確認して、Bot実装に集中
* ゴール：*「Botの構造が読める」*

### 🤖 BotやNode.jsの経験がある

* **第3回 or 第5回から参加**
* SQLite・テンプレ・AI連携を重点的に
* ゴール：*「このBotがどう動いているか説明できる」*

### 🗄 DBやインフラ寄りの経験がある

* **第6回以降をつまみ読み → 第11回へ**
* AI・運用・本番を重点的に
* ゴール：*「判断が必要なポイントが分かる」*

> ⚠️ 実務・運用編（第11回以降）は、**Botが本番で動いていることが前提**です。
> 基礎編を飛ばした場合でも、最低限「第3・9・10回」は確認してください。

---

## 🛠 必要環境（全20回共通）

### ソフトウェア
* Node.js 20.x 以上
* Git 2.x 以上
* VS Code（またはお好みのエディタ）
* PowerShell（Windows）/ ターミナル（Mac/Linux）
* SSH クライアント

### アカウント
* Discord アカウント（Bot用）
* GitHub アカウント
* Google アカウント（Gemini API用）
* GCP アカウント（Compute Engine利用）

### 推奨環境
* メモリ：4GB以上
* ストレージ：10GB以上の空き容量
* インターネット接続

---

# 📚 全20回カリキュラム一覧

## 基礎編（第1〜10回）― 動くBotを作り、本番に出す ―

| 回 | テーマ | 内容 | ゴール | 資料 |
|---|---|---|---|---|
| 1 | 開発環境セットアップ | Node.js/npm/Git/VS Codeのインストールと確認 | Node.js が動く | [第1回](01_setup_README.md) |
| 2 | Git/GitHub基礎 | リポジトリ作成、コミット、プッシュの基本操作 | 履歴を残せる | [第2回](02_git-practice_README.md) |
| 3 | Bot初導入 + SQLite | Discord Bot の初期設定とデータベース導入 | DBに保存できる | [第3回](03_bot-sqlite_README.md) |
| 4 | SQLite集計 | 気分記録の統計・集計機能の実装 | データを活かす | [第4回](04_mental-bot-basic_README.md) |
| 5 | 定型パターン | テンプレート応答とキーワード反応の実装 | 自動応答の型 | [第5回](05_sql-patterns_README.md) |
| 6 | AI導入① | Gemini API連携と基本的な会話機能 | AI応答が返る | [第6回](06_gemini-api_README.md) |
| 7 | AI導入② | スパム検知・コンテンツフィルタの実装 | 運用ガード | [第7回](07_bot-security_README.md) |
| 8 | エラーハンドリング | try-catch、エラーログ、graceful shutdown | 落ちにくくする | [第8回](08_error-handling_README.md) |
| 9 | 本番デプロイ | GCP Compute Engine + PM2での常駐化 | サーバー常駐 | [第9回](09_ssh-deployment_README.md) |
| 10 | 振り返り | 基礎編の総復習と次のステップ | 次が見える | [第10回](10_final-review_README.md) |

---

## 実務・運用編（第11〜20回）― 本番で「判断する」側に回る ―

### フェーズA：安全確保（第11〜15回）

| 回 | テーマ | 内容 | ゴール | 資料 |
|---|---|---|---|---|
| 11 | 仕様変更の入口 | 影響範囲の書き出し、「やらないこと」の決定 | 触る前に考える | [第11回](11_specification-change_README.md) |
| 12 | 環境の違い | .envによるローカル・本番の分離と管理 | 事故を防ぐ | [第12回](12_environment-management_README.md) |
| 13 | 安全なデプロイ | deploy.shの作成、手順の並び替え、リカバリ | 本番を壊さない | [第13回](13_safe-deployment_README.md) |
| 14 | ログと調査 | pm2 logs活用、エラー探索、適切なログ追加 | 状況を判断 | [第14回](14_log-investigation_README.md) |
| 15 | 直さない判断 | ロールバック（切り戻し）、再起動の判断 | 被害を止める | [第15回](15_rollback-strategy_README.md) |

### フェーズB：構造変更とプロジェクトの継続（第16〜20回）

| 回 | テーマ | 内容 | ゴール | 資料 |
|---|---|---|---|---|
| 16 | DB変更 | カラム追加・変更、データ移行の判断 | 怖さを超える | [第16回](16_database-migration_README.md) |
| 17 | データ保護 | バックアップ、復元演習、守る価値の判断 | 守る線引き | [第17回](17_data-protection_README.md) |
| 18 | Bot増設 | 1インスタンス2Bot、env分離、pm2複数管理 | 1台で複数運用 | [第18回](18_multi-bot-management_README.md) |
| 19 | 継続判断 | 拡張/凍結/廃止の判断、継続コスト評価 | 続ける／やめる | [第19回](19_project-continuation_README.md) |
| 20 | 引き継ぎ | README、運用メモ、DB構造ドキュメント | 自分が消えても回る | [第20回](20_handover-documentation_README.md) |

---

## ⚠️ この講座で「やらないこと」

* 正解の押し付け
* ベストプラクティス暗記
* 最新技術追従
* 完璧な設計

**代わりにやるのは「判断」だけです。**

---

## 🛠 技術スタック（全編共通）

### バックエンド
* Node.js 20.x
* Discord.js 14.x
* better-sqlite3（SQLite）

### AI・外部連携
* Google Gemini API

### 運用・デプロイ
* PM2（プロセス管理）
* dotenv（環境変数管理）
* Git / GitHub（バージョン管理）
* GCP Compute Engine（Ubuntu）

---

## 📖 学習ルール

### 必ず守ること
1. **読むだけ禁止** - 必ず手を動かして実行する
2. **失敗を恐れない** - 戻し方まで含めて学習内容

### やってもいいこと
1. **途中離脱OK** - 戻れる設計になっています
2. **順番を変えてもOK** - 推奨ルートはあくまで目安
3. **質問OK** - GitHubのIssuesで質問してください

### 推奨事項
1. **1回につき60〜90分** の時間を確保
2. **必ずGitコミット** - 各回の終わりにコミット
3. **メモを取る** - 自分用のメモを残す

---

## 🎯 各フェーズの到達目標

### 基礎編（第1〜10回）完了時点
- ✅ Botが本番で動いている
- ✅ 基本的な機能が実装されている
- ✅ AI連携ができている
- ✅ エラーハンドリングができている
- ✅ Git/GitHubが使える

### フェーズA（第11〜15回）完了時点
- ✅ 仕様変更の影響範囲が見積もれる
- ✅ 環境を分けて開発できる
- ✅ 安全にデプロイできる
- ✅ ログからトラブルを調査できる
- ✅ ロールバックができる

### フェーズB（第16〜20回）完了時点
- ✅ DBスキーマを変更できる
- ✅ データのバックアップ・復元ができる
- ✅ 複数Botを管理できる
- ✅ プロジェクトの継続判断ができる
- ✅ 引き継ぎドキュメントが書ける

---

## 🎓 最後に

この20回を終えたとき、

* すべてを理解している必要はありません
* でも **「どう判断するか」は分かっている**状態になります

それが、この講座の到達点です。

---

## 📌 よくある質問

### Q1: プログラミング完全初心者でも大丈夫？
**A:** はい。第1回から丁寧に解説しています。ただし、「黒い画面が怖い」という感覚は最初の3回で克服する必要があります。

### Q2: Macでも受講できる？
**A:** はい。Windows向けに書かれていますが、Mac用のコマンドも併記しています。

### Q3: 途中から始めても大丈夫？
**A:** はい。推奨参加ルートを参考に、自分のレベルに合った回から始めてください。

### Q4: Discord Botの経験があります。どこから？
**A:** 第3回または第5回から始めることを推奨します。

### Q5: 実務・運用編だけ受講できる？
**A:** 可能ですが、第3・9・10回は必ず確認してください。Botが本番で動いていることが前提です。

### Q6: すべて無料で学べる？
**A:** はい。ただしGCP Compute Engineの利用料（月数百円〜）とGemini APIの利用料が必要です。

### Q7: どのくらい時間がかかる？
**A:** 1回あたり60〜90分。全20回で20〜30時間程度を想定しています。

### Q8: 質問はどこでできる？
**A:** GitHubのIssuesで質問を受け付けています。

---

## 🔗 関連リンク

* [Discord Developer Portal](https://discord.com/developers/applications)
* [Google AI Studio（Gemini API）](https://aistudio.google.com/)
* [GCP Console](https://console.cloud.google.com/)
* [Node.js公式サイト](https://nodejs.org/)
* [Discord.js ドキュメント](https://discord.js.org/)

---

## 📝 更新履歴

* 2026-02-04: 全20回版を公開（基礎編10回 + 実務・運用編10回）
* 2026-02-02: 基礎編10回版を公開
* 2026-01-31: 初版公開（基礎編のみ）

---

最終更新：2026-02-04